const languages=(a,e)=>{const t=Object.entries(e).filter((([,{pct:a}])=>a>=.025)).map((([a,{pct:e}])=>({lang:a,pct:e}))).sort(((a,e)=>e.pct-a.pct)).reduce(((a,{lang:e,pct:t})=>(a.sum+=t,a.items.push({lang:e,pct:t}),a)),{items:[],sum:0}),s=el("div",{className:"widget widget-languages"}),l=el("div",{className:"widget-languages--bar"}),n=el("ul",{className:"widget-languages--legend"});t.items.forEach((({lang:a,pct:e})=>{const t=langKey(a);l.innerHTML+=`<div style="--p:${e};--c:var(--lang-${t})"></div>`,n.innerHTML+=`<li style="--c:var(--lang-${t})"><span>${a}</span><b>${fPct(e)}</b></li>`})),t.sum<1&&(l.innerHTML+=`<div style="--p:${1-t.sum}"></div>`,n.innerHTML+=`<li><span>Others</span><b>${fPct(1-t.sum)}</b></li>`),s.append(l,n),a.appendChild(s)},heatmap=(a,e)=>{const t=el("div",{className:"widget widget-heatmap"}),s=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],l=Math.log(100*e.reduce(((a,e)=>Math.max(a,...e)),0));for(let a=-1;a<24;a++)t.appendChild(el("div",{className:"hour",innerHTML:a%2==0?a:""}));e.forEach(((a,e)=>{t.appendChild(el("div",{className:"day",innerHTML:e%2==0?s[e].substring(0,3):""})),a.forEach(((a,n)=>{const i=el("div",{className:`item l${0===a?0:Math.round(Math.log(100*a)/l*4)}`});i.setAttribute("title",`${s[e]}, ${n%12}${n>=12?"pm":"am"} UTC: ${fPct(a/100,2)}`),t.appendChild(i)}))})),a.appendChild(t)};