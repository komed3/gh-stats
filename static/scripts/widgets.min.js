const languages=(e,a)=>{const t=Object.entries(a).filter((([,{pct:e}])=>e>=.025)).map((([e,{pct:a}])=>({lang:e,pct:a}))).sort(((e,a)=>a.pct-e.pct)).reduce(((e,{lang:a,pct:t})=>(e.sum+=t,e.items.push({lang:a,pct:t}),e)),{items:[],sum:0}),s=el("div",{className:"widget widget-languages"}),n=el("div",{className:"widget-languages--bar"}),i=el("ul",{className:"widget-languages--legend"});t.items.forEach((({lang:e,pct:a})=>{const t=langKey(e);n.innerHTML+=`<div style="--p:${a};--c:var(--lang-${t})"></div>`,i.innerHTML+=`<li style="--c:var(--lang-${t})"><span>${e}</span><b>${fPct(a)}</b></li>`})),t.sum<1&&(n.innerHTML+=`<div style="--p:${1-t.sum}"></div>`,i.innerHTML+=`<li><span>Others</span><b>${fPct(1-t.sum)}</b></li>`),s.append(n,i),e.appendChild(s)},heatmap=(e,a)=>{const t=el("div",{className:"widget widget-heatmap"}),s=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],n=Math.log(100*a.reduce(((e,a)=>Math.max(e,...a)),0));for(let e=-1;e<24;e++)t.appendChild(el("div",{className:"hour",innerHTML:e>=0?e.toString().padStart(2,"0"):""}));a.forEach(((e,a)=>{t.appendChild(el("div",{className:"day",innerHTML:s[a].substring(0,3)})),e.forEach(((e,i)=>{const l=el("div",{className:`item l${0===e?0:Math.round(Math.log(100*e)/n*4)}`});l.setAttribute("title",`${s[a]}, ${i%12||12}${i>=12?"pm":"am"} UTC: ${fPct(e/100,2)}`),t.appendChild(l)}))})),e.appendChild(t)},skills=(e,a)=>{const t=new vis.DataSet,s=new vis.DataSet,n=new Set;for(const[e,{weight:s}]of Object.entries(a.langs))t.add([{id:e,label:e,value:s,color:LANGS[langKey(e)]}]);for(const[e,t]of Object.entries(a.relations))for(const[a,i]of Object.entries(t))n.has(e+a)||n.has(a+e)||(s.add([{from:e,to:a,value:i}]),n.add(e+a));const i=el("div",{className:"widget widget-skills"}),l=new vis.Network(i,{nodes:t,edges:s},{edges:{arrows:{to:{enabled:!0,scaleFactor:.6},from:{enabled:!0,scaleFactor:.6}},color:{color:"#666"},scaling:{min:2,max:2},smooth:!1},nodes:{borderWidth:0,color:{background:"#3d444d"},font:{face:"Noto Sans, sans-serif",size:16,color:"#fff",strokeColor:"#000",strokeWidth:2},margin:10,scaling:{min:1,max:3},shape:"circle"},physics:{solver:"forceAtlas2Based",forceAtlas2Based:{gravitationalConstant:-50,centralGravity:.01,springLength:100,springConstant:.05,avoidOverlap:.7},stabilization:{iterations:1e4}}});return e.appendChild(i),l.fit(),l};