const dataCache=new Map,loadData=async(...t)=>{const e=await Promise.all(t.map((async t=>{if(!dataCache.has(t)){const e=await fetch(`/data/${t}`);if(!e.ok)throw new Error(`Failed to load from path: ${t}`);dataCache.set(t,t.endsWith(".csv")?parseCSV(await e.text()):await e.json())}return dataCache.get(t)})));return 1===t.length?e[0]:e},parseCSV=t=>{const[e,...a]=t.trim().split("\n").map((t=>t.split(",")));return a.map((t=>Object.fromEntries(e.map(((e,a)=>[e,t[a]])))))},$=t=>{const e=document.querySelector(t);return{el:e,doIf:(a,...r)=>e&&r.length&&r[0]?$(t)[a](...r):hide(),text:t=>void 0!==t?e.textContent=t:e.textContent,html:t=>void 0!==t?e.innerHTML=t:e.innerHTML,attr:(t,a)=>void 0!==a?e.setAttribute(t,a):e.getAttribute(t),src:t=>void 0!==t?e.src=t:e.src,href:t=>void 0!==t?e.href=t:e.href,link:(e,a)=>$(t).href(e)&&$(t).text(a??e.replace(/^https?:\/\//,"")),show:()=>e.style.display="",hide:()=>e.style.display="none"}},el=(t,e)=>Object.assign(document.createElement(t),e||{}),langKey=t=>String(t??"").toLowerCase().replace(/[^a-z0-9]/g,"-"),fNumber=(t,e=0,a={})=>Intl.NumberFormat("en-US",{notation:"compact",minimumFractionDigits:e,maximumFractionDigits:e,...a}).format(Number(t)),fFullNum=(t,e=0,a={})=>fNumber(t,e,{notation:"standard",...a}),fPct=(t,e=0,a={})=>fNumber(t,e,{style:"percent",...a}),fDate=(t,e={})=>Intl.DateTimeFormat("en-US",{dateStyle:"short",...e}).format(new Date(t));